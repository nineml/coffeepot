<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script><title>Chapter 7. Configuration</title><link href="/css/pygments.css" rel="stylesheet"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="https://purl.org/dc/elements/1.1/" rel="schema.dc"/><meta name="dc.modified" content="2023-08-06T21:01:57Z"/><meta name="generator" content="DocBook xslTNG version 2.1.6 / cf0b935 / SAXON EE 12.3"/><link href="/css/docbook-toc.css" rel="stylesheet"/><link href="/css/docbook.css" rel="stylesheet" media="screen"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><script src="https://kit.fontawesome.com/498b6706f0.js" type="text/javascript" crossorigin="anonymous"></script><link href="icon/CoffeePot.png" rel="shortcut icon"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="css/nineml.css" rel="stylesheet"/><link href="css/coffeepot.css" rel="stylesheet"/><link rel="prev" href="ch06.html"/><link rel="next" href="ch08.html"/><link rel="up" href="index.html"/><link rel="home" href="index.html"/><script src="/js/persistent-toc.js" defer="defer"></script><script src="/js/copy-verbatim.js" defer="defer"></script><script src="/js/chunk-nav.js" defer="defer"></script></head><body><nav class="top"><span class="nav"><a title="CoffeePot" href="index.html"><i class="fas fa-home"></i></a> <a href="ch06.html" title="Chapter  6 .  Choosing among alternatives"><i class="fas fa-arrow-left"></i></a> <a title="CoffeePot" href="index.html"><i class="fas fa-arrow-up"></i></a> <a title="Chapter  8 .  Output formats" href="ch08.html"><i class="fas fa-arrow-right"></i></a></span><span class="title"><i class="title">CoffeePot</i></span></nav><main><section id="configuration" db-chunk="ch07.html" db-id="d94e1131" class="chapter component"><header><h2>Chapter <span class="label">7</span><span class="sep">. </span>Configuration</h2></header><p>When <span class="application">CoffeePot</span> starts, it looks for a
configuration file, a Java properties file. If a file named
<code class="filename">.nineml.properties</code> is found in the user’s home
directory, that file is loaded. If that file doesn’t exist,
<span class="application">CoffeePot</span> searches for 
<code class="filename">nineml.properties</code> (no leading “.”) on the
class path.</p><p>An example <code class="filename">nineml.properties</code> file:</p><div class="pre-wrap" db-startinglinenumber="1" db-numberoflines="6"><pre class="language-none long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln">1 <span class="nsep">|</span></span><span class="ld"><code>default-log-level=info</code></span></span>
<span class="line" db-line="2"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code>graphviz=/usr/bin/dot</code></span></span>
<span class="line" db-line="3"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code>ignore-trailing-whitespace=true</code></span></span>
<span class="line" db-line="4"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code>log-levels=CoffeePot:trace,Parser:info</code></span></span>
<span class="line" db-line="5"><span class="ln">5 <span class="nsep">|</span></span><span class="ld"><code>pretty-print=true</code></span></span>
<span class="line" db-line="6"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code>progress-bar=tty</code></span></span>
</pre></div><p>If the file is found and is a usable Java properties file, the
following options are read from it:</p><dl class="long-terms variablelist"><div class="varlistentry"><dt><span class="term"><a href="#prop_allow-multiple-definitions"><code id="prop_allow-multiple-definitions" class="property">allow-multiple-definitions</code></a> (boolean)</span>, <span class="term"><a href="#prop_allow-undefined-symbols"><code id="prop_allow-undefined-symbols" class="property">allow-undefined-symbols</code></a> (boolean)</span>, <span class="term"><a href="#prop_allow-unproductive-symbols"><code id="prop_allow-unproductive-symbols" class="property">allow-unproductive-symbols</code></a> (boolean)</span>, <span class="term"><a href="#prop_allow-unreachable-symbols"><code id="prop_allow-unreachable-symbols" class="property">allow-unreachable-symbols</code></a> (boolean)</span>
      </dt><dd><p>When the parser is not in “pedantic” mode, allow (or forbid)
grammars with these conditions.
</p></dd></div><div id="prop_ascii-only" class="varlistentry"><dt><span class="term"><code class="property">ascii-only</code> (boolean)</span></dt><dd><p>Use only ASCII characters in messages such as the grammar or ambiguity descriptions.
(Note: this has no effect on the output of the parse.)
</p></dd></div><div id="prop_assert-valid-xml-characters" class="varlistentry"><dt><span class="term"><code class="property">assert-valid-xml-characters</code> (boolean)</span></dt><dd><p>Check that the output contains no invalid characters.</p></dd></div><div id="prop_assert-valid-xml-names" class="varlistentry"><dt><span class="term"><code class="property">assert-valid-xml-names</code> (boolean)</span></dt><dd><p>Check that the output contains no invalid XML element or attribute names.</p></dd></div><div id="prop_default-log-level" class="varlistentry"><dt><span class="term"><code class="property">default-log-level</code> (string)</span></dt><dd><p>The default log level: <code class="literal">trace</code>,
<code class="literal">debug</code>, <code class="literal">info</code>,
<code class="literal">warning</code>, <code class="literal">error</code>,
or <code class="literal">silent</code>. 
</p></dd></div><div id="prop_disable-pragmas" class="varlistentry"><dt><span class="term"><code class="property">disable-pragmas</code> (string)</span></dt><dd><p>A comma-separated list of pragma names. These pragmas will be ignored.</p></dd></div><div id="prop_enable-pragmas" class="varlistentry"><dt><span class="term"><code class="property">enable-pragmas</code> (string)</span></dt><dd><p>A comma-separated list of pragma names. These pragmas will be enabled.</p></dd></div><div id="prop_graph-options" class="varlistentry"><dt><span class="term"><code class="property">graph-options</code> (string)</span></dt><dd><p>A comma-separated list of graph options; each option must have
the form name=value or name:value. These options will be passed to the
stylesheet that generates diagrams of the parse forest.
</p></dd></div><div id="prop_graphviz" class="varlistentry"><dt><span class="term"><code class="property">graphviz</code> (filename)</span></dt><dd><p>The location of the
<a href="https://en.wikipedia.org/wiki/Graphviz" class="link">Graphviz</a> “dot”
program that should be used for rendering diagrams of graphs.
</p></dd></div><div id="prop_ignore-bom" class="varlistentry"><dt><span class="term"><code class="property">ignore-bom</code> (boolean)</span></dt><dd><p>Ignore a BOM at the start of an input document?
</p></dd></div><div id="prop_ignore-trailing-whitespace" class="varlistentry"><dt><span class="term"><code class="property">ignore-trailing-whitespace</code> (boolean)</span></dt><dd><p>If true, trailing whitespace at the end of input files will be
ignored if it isn’t successfully parsed.
</p></dd></div><div id="prop_log-levels" class="varlistentry"><dt><span class="term"><code class="property">log-levels</code> (string)</span></dt><dd><p>A list of log category/level mappings.
</p></dd></div><div id="prop_mark-ambiguities" class="varlistentry"><dt><span class="term"><code class="property">mark-ambiguities</code> (boolean)</span></dt><dd><p>Enables marking ambiguities in the output. This option will
cause additional attributes to be added to the result trees marking
where ambiguous choices were made. (This only works for vertical
ambiguities on nonterminals that aren’t suppressed.)
</p></dd></div><div id="prop_normalize-line-endings" class="varlistentry"><dt><span class="term"><code class="property">normalize-line-endings</code> (boolean)</span></dt><dd><p>If true, line endings on the input file will be normalized. Normalizing will
translate all occurrences of carriage return (<code>#D</code>),
carriage return followed immediately by a line feed
(<code>#D#A</code>), next line (<code>#85</code>), and line separator
(<code>#2028</code>) into a single line feed (<code>#A</code>).
Multiple line endings are not combined. In other words,
<code>#85#2028</code> becomes <code>#A#A</code>, not <code>#A</code>.
</p></dd></div><div id="prop_parser" class="varlistentry"><dt><span class="term"><code class="property">parser</code> (string)</span></dt><dd><p>The parser to use: <code class="literal">Earley</code> or <code class="literal">GLL</code>.
</p></dd></div><div id="prop_pedantic" class="varlistentry"><dt><span class="term"><code class="property">pedantic</code> (boolean)</span></dt><dd><p>By default, <span class="application">CoffeePot</span> accepts
certain grammar extensions, such as pragmas. If <code class="property">pedantic</code>
is true,
only grammars strictly conforming to the Invisible XML specification
may be used.
</p></dd></div><div id="prop_prefix-parsing" class="varlistentry"><dt><span class="term"><code class="property">prefix-parsing</code> (boolean)</span></dt><dd><p>If true, a parse will succeed if it matches a prefix of the input.
</p></dd></div><div id="prop_pretty-print" class="varlistentry"><dt><span class="term"><code class="property">pretty-print</code> (boolean)</span></dt><dd><p>If true, line breaks and indentation will be added to the XML output
so that it’s easier to read.
</p></dd></div><div id="prop_progress-bar" class="varlistentry"><dt><span class="term"><code class="property">progress-bar</code> (“on”, “off”, or “tty”)</span></dt><dd><p>Setting the progress bar to “on” or “off” enables or disables it.
Setting it to “tty” enables it only if the output is going to a “tty”, an
interactive computer terminal.
</p></dd></div><div id="prop_progress-bar-characters" class="varlistentry"><dt><span class="term"><code class="property">progress-bar-characters</code> (string)</span></dt><dd><p>Sets the characters used to construct the progress bar when
it is displayed.
</p></dd></div><div id="prop_progress-bar-style" class="varlistentry"><dt><span class="term"><code class="property">progress-bar-style</code> (string)</span></dt><dd><p>Sets the progress bar style. The style is just a name for
a set of characters. The styles are:
</p><dl class="variablelist"><div class="varlistentry"><dt><span class="term"><code class="literal">ascii</code></span>, <span class="term">or <code class="literal">plain</code></span>
      </dt><dd><p>The characters <code>.#</code>.
</p></dd></div><div class="varlistentry"><dt><span class="term"><code class="literal">lines</code></span></dt><dd><p>The characters <code>-=</code>.
</p></dd></div><div class="varlistentry"><dt><span class="term"><code class="literal">blocks</code></span></dt><dd><p>The characters <code> ▏▎▍▌▋▊▉█</code>.
</p></dd></div><div class="varlistentry"><dt><span class="term"><code class="literal">shades</code></span></dt><dd><p>The characters <code> ░▒▓█</code>.
</p></dd></div></dl></dd></div><div id="prop_provenance" class="varlistentry"><dt><span class="term"><code class="property">provenance</code> (boolean)</span></dt><dd><p>If provenance is requested, a comment is generated at the top of XML outputs
that identifies the version of NineML used and details about the input and the grammar.
(This only applies to XML outputs as neither JSON nor CSV have a standard mechanism for
comments.)
</p></dd></div><div id="prop_strict-ambiguity" class="varlistentry"><dt><span class="term"><code class="property">strict-ambiguity</code> (boolean)</span></dt><dd><p>If a grammar contains priority pragmas that uniquely determine
the outcome of every potentially ambiguous choice, you have a choice about
whether or not it is reported as ambiguous. If strict ambiguity is true,
it will be reported as ambiguous.</p></dd></div><div id="prop_suppress-states" class="varlistentry"><dt><span class="term"><code class="property">suppress-states</code> (string)</span></dt><dd><p>An Invisible XML parse adds states to the root element to
indicate features such as ambiguity or a prefix parse. The states in this
comma-separated list will be suppressed.</p></dd></div><div id="prop_trailing-newline-on-output" class="varlistentry"><dt><span class="term"><code class="property">trailing-newline-on-output</code> (boolean)</span></dt><dd><p>If true, a newline will be printed after the output. It’s often useful
to have a newline at the end of the XML, after the closing tag of the document
element.
</p></dd></div></dl></section></main><nav class="bottom"><div class="navrow"><div class="navleft"><a title="Chapter  6 .  Choosing among alternatives" href="ch06.html"><i class="fas fa-arrow-left"></i></a></div><div class="navmiddle"><a title="CoffeePot" href="index.html"><i class="fas fa-home"></i></a></div><div class="navright"><a title="Chapter  8 .  Output formats" href="ch08.html"><i class="fas fa-arrow-right"></i></a></div></div><div class="navrow"><div class="navleft navtitle">Chapter  6 .  Choosing among alternatives</div><div class="navmiddle"><a title="CoffeePot" href="index.html"><i class="fas fa-arrow-up"></i></a></div><div class="navright navtitle">Chapter  8 .  Output formats</div></div><div class="infofooter"><span class="copyrightfooter">Copyright © 2022–2023 Norman Walsh.</span></div><nav class="tocopen"></nav><nav class="toc"></nav><!-- Hide ToC details from user agents that don’t support JS --><script type="text/html" class="tocopen"><i class="far fa-book"></i></script><script type="text/html" class="toc"><header><span>Table of Contents</span><span class="close"><i class="far fa-window-close"></i></span><p class="ptoc-search"><input class="ptoc-search" placeholder="Search" style="width: 80%"/></p></header><div db-persistent-toc="persistent-toc.html" db-prefix="">Loading…</div></script></nav></body></html>